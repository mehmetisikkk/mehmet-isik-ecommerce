{"ast":null,"code":"import _asyncToGenerator from \"G:/Step/Ev tap\\u015F\\u0131r\\u0131qlar\\u0131/4 -c\\xFC yar\\u0131m il/Angular/Layih\\u0259/10/Angular_E-commerce/Angular_E-commerce/appEcommerce/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { GenreService } from 'src/app/Components/genre/Services/genre.service';\nimport { AlertifyService } from 'src/app/Services/alertify/alertify.service';\nimport { BooksService } from '../../Services/books.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Components/genre/Services/genre.service\";\nimport * as i2 from \"../../Services/books.service\";\nimport * as i3 from \"src/app/Services/alertify/alertify.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"@angular/forms\";\n\nfunction BookcreateComponent_div_9_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" Required places \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookcreateComponent_div_9_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1, \" Minimum 5 characters write \");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BookcreateComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtemplate(1, BookcreateComponent_div_9_p_1_Template, 2, 0, \"p\", 28);\n    i0.ɵɵtemplate(2, BookcreateComponent_div_9_p_2_Template, 2, 0, \"p\", 28);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    let tmp_0_0;\n    let tmp_1_0;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_0_0 = ctx_r0.movieform.get(\"title_\")) == null ? null : tmp_0_0.errors == null ? null : tmp_0_0.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (tmp_1_0 = ctx_r0.movieform.get(\"title_\")) == null ? null : tmp_1_0.errors == null ? null : tmp_1_0.errors[\"minlength\"]);\n  }\n}\n\nfunction BookcreateComponent_option_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r5 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r5.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r5.genrename, \"\");\n  }\n}\n\nfunction BookcreateComponent_div_43_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function BookcreateComponent_div_43_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.file = undefined);\n    });\n    i0.ɵɵtext(2, \" clear file \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"br\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport class BookcreateComponent {\n  constructor(genreService, bookservice, alertifyService, router, http) {\n    this.genreService = genreService;\n    this.bookservice = bookservice;\n    this.alertifyService = alertifyService;\n    this.router = router;\n    this.http = http;\n    this.genres = [];\n    this.model = {\n      genreId: -1\n    };\n    this.movieform = new FormGroup({\n      title_: new FormControl(\"Book title\", [Validators.required, Validators.minLength(1)]),\n      description_: new FormControl(\"Book description\", [Validators.required]),\n      productcode_: new FormControl(\"0000\", [Validators.required]),\n      isSoftCover_: new FormControl(\"true\", [Validators.required]),\n      page_: new FormControl(\"0000\", [Validators.required]),\n      isPopular_: new FormControl(\"true\", [Validators.required]),\n      imageUrl_: new FormControl(\"../../../../../assets/logo.png\", [Validators.required]),\n      genreId_: new FormControl(\"-1\", [Validators.required]),\n      subimageUrl_: new FormControl(\"\", [Validators.required])\n    });\n  }\n\n  getfile(event) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.file = event.target.files[0];\n    })();\n  }\n\n  ngOnInit() {\n    this.genreService.getGenres().subscribe(data => {\n      this.genres = data;\n    });\n  }\n\n  isFormValid() {\n    return this.movieform.disabled ? true : this.movieform.valid;\n  }\n\n  createBook() {\n    var _this2 = this;\n\n    return _asyncToGenerator(function* () {\n      let formData = new FormData();\n      formData.set('file', _this2.file);\n      formData.append(\"file\", _this2.file);\n      formData.append(\"upload_preset\", \"angular-ecommerce\");\n\n      _this2.bookservice.uploadSignature(formData).subscribe(imageData => {\n        _this2.urlimage = imageData.url;\n        console.log(_this2.urlimage);\n        const movie = {\n          title: _this2.movieform.value.title_,\n          description: _this2.movieform.value.description_,\n          productcode: _this2.movieform.value.productcode_,\n          isSoftCover: _this2.movieform.value.isSoftCover_,\n          page: _this2.movieform.value.page_,\n          isPopular: _this2.movieform.value.isPopular_,\n          datePublished: new Date().toISOString().replace(\"T\", \" \").replace(\"Z\", \" \"),\n          imageUrl: _this2.movieform.value.imageUrl_,\n          genreId: _this2.movieform.value.genreId_,\n          subimageUrl: _this2.urlimage\n        };\n\n        if (_this2.movieform.value.title_ != \"\" && _this2.movieform.value.description_ != \"\" && _this2.movieform.value.imageUrl_ != \"\" && _this2.movieform.value.genreId_ != \"-1\") {\n          _this2.bookservice.postBook(movie).subscribe(data => {\n            console.log(data);\n\n            _this2.router.navigate(['/books']);\n          });\n\n          _this2.alertifyService.success(movie.title);\n        } else {}\n      });\n    })();\n  }\n\n  ClearForm() {\n    this.movieform.patchValue({\n      title_: '',\n      description_: '',\n      imageUrl_: '',\n      genreId_: '-1'\n    });\n  }\n\n}\n\nBookcreateComponent.ɵfac = function BookcreateComponent_Factory(t) {\n  return new (t || BookcreateComponent)(i0.ɵɵdirectiveInject(i1.GenreService), i0.ɵɵdirectiveInject(i2.BooksService), i0.ɵɵdirectiveInject(i3.AlertifyService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i5.HttpClient));\n};\n\nBookcreateComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BookcreateComponent,\n  selectors: [[\"app-bookcreate\"]],\n  features: [i0.ɵɵProvidersFeature([GenreService, BooksService, AlertifyService])],\n  decls: 48,\n  vars: 6,\n  consts: [[2, \"color\", \"red\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-3\"], [\"for\", \"title\", 1, \"form-label\"], [\"id\", \"title\", \"name\", \"title\", \"type\", \"text\", \"formControlName\", \"title_\", 1, \"form-control\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"description\", 1, \"form-label\"], [\"id\", \"description\", \"name\", \"description\", \"type\", \"text\", \"formControlName\", \"description_\", 1, \"form-control\"], [\"for\", \"productcode\", 1, \"form-label\"], [\"id\", \"productcode\", \"name\", \"productcode\", \"type\", \"text\", \"formControlName\", \"productcode_\", 1, \"form-control\"], [\"id\", \"isSoftCover\", \"name\", \"isSoftCover\", \"type\", \"checkbox\", \"formControlName\", \"isSoftCover_\", 1, \"form-check-input\"], [\"for\", \"isSoftCover\", 1, \"form-label\"], [\"for\", \"page\", 1, \"form-label\"], [\"id\", \"page\", \"name\", \"page\", \"type\", \"number\", \"formControlName\", \"page_\", 1, \"form-control\"], [\"id\", \"isPopular\", \"name\", \"isPopular\", \"type\", \"checkbox\", \"formControlName\", \"isPopular_\", 1, \"form-check-input\"], [\"for\", \"isPopular\", 1, \"form-label\"], [\"for\", \"imageUrl\", 1, \"form-label\"], [\"id\", \"imageUrl\", \"name\", \"imageUrl\", \"type\", \"text\", \"formControlName\", \"imageUrl_\", 1, \"form-control\"], [\"for\", \"genreId\", 1, \"form-label\"], [\"id\", \"genreId\", \"name\", \"genreId\", \"formControlName\", \"genreId_\", 1, \"form-select\"], [\"value\", \"-1\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"id\", \"file-container\", 1, \"mb-3\"], [\"id\", \"subimageUrl\", \"name\", \"subimageUrl\", \"type\", \"file\", \"formControlName\", \"subimageUrl_\", 1, \"form-control\", 3, \"change\"], [\"class\", \"mb-3\", 4, \"ngIf\"], [\"type\", \"submit\", 1, \"btn\", \"btn-success\", 3, \"disabled\"], [\"type\", \"submit\", 1, \"btn\", \"btn-warning\", 3, \"click\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"], [3, \"value\"], [3, \"click\"]],\n  template: function BookcreateComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"h1\", 0);\n      i0.ɵɵtext(1, \"Create Movie\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(2, \"form\", 1);\n      i0.ɵɵlistener(\"ngSubmit\", function BookcreateComponent_Template_form_ngSubmit_2_listener() {\n        return ctx.createBook();\n      });\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\", 3);\n      i0.ɵɵtext(5, \"Title\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"input\", 4);\n      i0.ɵɵelementStart(7, \"p\");\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(9, BookcreateComponent_div_9_Template, 3, 2, \"div\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"div\", 2)(11, \"label\", 6);\n      i0.ɵɵtext(12, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(13, \"input\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"div\", 2)(15, \"label\", 8);\n      i0.ɵɵtext(16, \"Productcode\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"input\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"div\", 2);\n      i0.ɵɵelement(19, \"input\", 10);\n      i0.ɵɵelementStart(20, \"label\", 11);\n      i0.ɵɵtext(21, \"isSoftCover\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(22, \"div\", 2)(23, \"label\", 12);\n      i0.ɵɵtext(24, \"Page\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(25, \"input\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"div\", 2);\n      i0.ɵɵelement(27, \"input\", 14);\n      i0.ɵɵelementStart(28, \"label\", 15);\n      i0.ɵɵtext(29, \"isPopular\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(30, \"div\", 2)(31, \"label\", 16);\n      i0.ɵɵtext(32, \"Image Url\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(33, \"input\", 17);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(34, \"div\", 2)(35, \"label\", 18);\n      i0.ɵɵtext(36, \"Category\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"select\", 19)(38, \"option\", 20);\n      i0.ɵɵtext(39, \" Select genre\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(40, BookcreateComponent_option_40_Template, 2, 2, \"option\", 21);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(41, \"div\", 22)(42, \"input\", 23);\n      i0.ɵɵlistener(\"change\", function BookcreateComponent_Template_input_change_42_listener($event) {\n        return ctx.getfile($event);\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(43, BookcreateComponent_div_43_Template, 4, 0, \"div\", 24);\n      i0.ɵɵelementStart(44, \"button\", 25);\n      i0.ɵɵtext(45, \" Create Movie \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(46, \"button\", 26);\n      i0.ɵɵlistener(\"click\", function BookcreateComponent_Template_button_click_46_listener() {\n        return ctx.ClearForm();\n      });\n      i0.ɵɵtext(47, \" Clear \");\n      i0.ɵɵelementEnd()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"formGroup\", ctx.movieform);\n      i0.ɵɵadvance(6);\n      i0.ɵɵtextInterpolate(ctx.movieform.value.title_);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.movieform.get(\"title_\").invalid && ctx.movieform.get(\"title_\").touched);\n      i0.ɵɵadvance(31);\n      i0.ɵɵproperty(\"ngForOf\", ctx.genres);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.file);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.isFormValid());\n    }\n  },\n  dependencies: [i6.NgForOf, i6.NgIf, i7.ɵNgNoValidate, i7.NgSelectOption, i7.ɵNgSelectMultipleOption, i7.DefaultValueAccessor, i7.NumberValueAccessor, i7.CheckboxControlValueAccessor, i7.SelectControlValueAccessor, i7.NgControlStatus, i7.NgControlStatusGroup, i7.FormGroupDirective, i7.FormControlName],\n  styles: [\".form-control.ng-untouched[_ngcontent-%COMP%]{\\r\\n  border-top: 5px solid orange;\\r\\n}\\r\\n\\r\\n.form-control.ng-touched.ng-invalid[_ngcontent-%COMP%]{\\r\\n  border-top:0;\\r\\n  border-left: 5px solid red;\\r\\n}\\r\\n\\r\\n.form-control.ng-dirty.ng-valid[_ngcontent-%COMP%]{\\r\\n  border-top:0;\\r\\n  border-left: 5px solid darkgreen;\\r\\n}\\r\\n\\r\\n.form-select.ng-untouched[_ngcontent-%COMP%]{\\r\\n  border-top: 5px solid orange;\\r\\n}\\r\\n\\r\\n.form-select.ng-touched.ng-invalid[_ngcontent-%COMP%]{\\r\\n  border-top:0;\\r\\n  border-left: 5px solid red;\\r\\n}\\r\\n\\r\\n.form-select.ng-dirty.ng-valid[_ngcontent-%COMP%]{\\r\\n  border-top:0;\\r\\n  border-left: 5px solid darkgreen;\\r\\n}\\r\\n\\r\\n*[_ngcontent-%COMP%]{\\r\\n  margin: 0;\\r\\n  padding: 0;\\r\\n  box-sizing: border-box;\\r\\n  font-family: \\\"Poppins\\\", sans-serif;\\r\\n}\\r\\n\\r\\nbody[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  min-height: 100vh;\\r\\n  background: #6990F2;\\r\\n}\\r\\n\\r\\n[_ngcontent-%COMP%]::selection{\\r\\n  color: #fff;\\r\\n  background: #6990F2;\\r\\n}\\r\\n\\r\\n.wrapper[_ngcontent-%COMP%]{\\r\\n  width: 430px;\\r\\n  background: #fff;\\r\\n  border-radius: 5px;\\r\\n  padding: 30px;\\r\\n  box-shadow: 7px 7px 12px rgba(0,0,0,0.05);\\r\\n}\\r\\n\\r\\n.wrapper[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{\\r\\n  color: #6990F2;\\r\\n  font-size: 27px;\\r\\n  font-weight: 600;\\r\\n  text-align: center;\\r\\n}\\r\\n\\r\\n.wrapper[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{\\r\\n  height: 167px;\\r\\n  display: flex;\\r\\n  cursor: pointer;\\r\\n  margin: 30px 0;\\r\\n  align-items: center;\\r\\n  justify-content: center;\\r\\n  flex-direction: column;\\r\\n  border-radius: 5px;\\r\\n  border: 2px dashed #6990F2;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:where(i, p)[_ngcontent-%COMP%]{\\r\\n  color: #6990F2;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{\\r\\n  font-size: 50px;\\r\\n}\\r\\n\\r\\nform[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{\\r\\n  margin-top: 15px;\\r\\n  font-size: 16px;\\r\\n}\\r\\n\\r\\nsection[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{\\r\\n  margin-bottom: 10px;\\r\\n  background: #E9F0FF;\\r\\n  list-style: none;\\r\\n  padding: 15px 20px;\\r\\n  border-radius: 5px;\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  justify-content: space-between;\\r\\n}\\r\\n\\r\\nsection[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{\\r\\n  color: #6990F2;\\r\\n  font-size: 30px;\\r\\n}\\r\\n\\r\\nsection[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{\\r\\n  font-size: 14px;\\r\\n}\\r\\n\\r\\n.progress-area[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{\\r\\n  width: 100%;\\r\\n  margin-left: 15px;\\r\\n}\\r\\n\\r\\n.progress-area[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n  margin-bottom: 7px;\\r\\n  justify-content: space-between;\\r\\n}\\r\\n\\r\\n.progress-area[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{\\r\\n  height: 6px;\\r\\n  width: 100%;\\r\\n  margin-bottom: 4px;\\r\\n  background: #fff;\\r\\n  border-radius: 30px;\\r\\n}\\r\\n\\r\\n.content[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{\\r\\n  height: 100%;\\r\\n  width: 0%;\\r\\n  background: #6990F2;\\r\\n  border-radius: inherit;\\r\\n}\\r\\n\\r\\n.uploaded-area[_ngcontent-%COMP%]{\\r\\n  max-height: 232px;\\r\\n  overflow-y: scroll;\\r\\n}\\r\\n\\r\\n.uploaded-area.onprogress[_ngcontent-%COMP%]{\\r\\n  max-height: 150px;\\r\\n}\\r\\n\\r\\n.uploaded-area[_ngcontent-%COMP%]::-webkit-scrollbar{\\r\\n  width: 0px;\\r\\n}\\r\\n\\r\\n.uploaded-area[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  align-items: center;\\r\\n}\\r\\n\\r\\n.uploaded-area[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]{\\r\\n  display: flex;\\r\\n  margin-left: 15px;\\r\\n  flex-direction: column;\\r\\n}\\r\\n\\r\\n.uploaded-area[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .details[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{\\r\\n  color: #404040;\\r\\n  font-size: 11px;\\r\\n}\\r\\n\\r\\n.uploaded-area[_ngcontent-%COMP%]   i.fa-check[_ngcontent-%COMP%]{\\r\\n  font-size: 16px;\\r\\n}\\r\\n\\r\\n.file-container[_ngcontent-%COMP%]{\\r\\n  width: 40px;\\r\\n  border: 4px dotted red;\\r\\n}\\r\\n\\r\\n.subimageUrl[_ngcontent-%COMP%]{\\r\\n  opacity: 0;\\r\\n  padding: 5rem;\\r\\n  width: auto;\\r\\n  height: 5rem;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJvb2tjcmVhdGUuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLDRCQUE0QjtBQUM5Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWiwwQkFBMEI7QUFDNUI7O0FBRUE7RUFDRSxZQUFZO0VBQ1osZ0NBQWdDO0FBQ2xDOztBQUVBO0VBQ0UsNEJBQTRCO0FBQzlCOztBQUdBO0VBQ0UsWUFBWTtFQUNaLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLFlBQVk7RUFDWixnQ0FBZ0M7QUFDbEM7O0FBSUE7RUFDRSxTQUFTO0VBQ1QsVUFBVTtFQUNWLHNCQUFzQjtFQUN0QixrQ0FBa0M7QUFDcEM7O0FBQ0E7RUFDRSxhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixpQkFBaUI7RUFDakIsbUJBQW1CO0FBQ3JCOztBQUNBO0VBQ0UsV0FBVztFQUNYLG1CQUFtQjtBQUNyQjs7QUFDQTtFQUNFLFlBQVk7RUFDWixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYix5Q0FBeUM7QUFDM0M7O0FBQ0E7RUFDRSxjQUFjO0VBQ2QsZUFBZTtFQUNmLGdCQUFnQjtFQUNoQixrQkFBa0I7QUFDcEI7O0FBQ0E7RUFDRSxhQUFhO0VBQ2IsYUFBYTtFQUNiLGVBQWU7RUFDZixjQUFjO0VBQ2QsbUJBQW1CO0VBQ25CLHVCQUF1QjtFQUN2QixzQkFBc0I7RUFDdEIsa0JBQWtCO0VBQ2xCLDBCQUEwQjtBQUM1Qjs7QUFDQTtFQUNFLGNBQWM7QUFDaEI7O0FBQ0E7RUFDRSxlQUFlO0FBQ2pCOztBQUNBO0VBQ0UsZ0JBQWdCO0VBQ2hCLGVBQWU7QUFDakI7O0FBQ0E7RUFDRSxtQkFBbUI7RUFDbkIsbUJBQW1CO0VBQ25CLGdCQUFnQjtFQUNoQixrQkFBa0I7RUFDbEIsa0JBQWtCO0VBQ2xCLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsOEJBQThCO0FBQ2hDOztBQUNBO0VBQ0UsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBQ0E7RUFDRSxlQUFlO0FBQ2pCOztBQUNBO0VBQ0UsV0FBVztFQUNYLGlCQUFpQjtBQUNuQjs7QUFDQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsa0JBQWtCO0VBQ2xCLDhCQUE4QjtBQUNoQzs7QUFDQTtFQUNFLFdBQVc7RUFDWCxXQUFXO0VBQ1gsa0JBQWtCO0VBQ2xCLGdCQUFnQjtFQUNoQixtQkFBbUI7QUFDckI7O0FBQ0E7RUFDRSxZQUFZO0VBQ1osU0FBUztFQUNULG1CQUFtQjtFQUNuQixzQkFBc0I7QUFDeEI7O0FBQ0E7RUFDRSxpQkFBaUI7RUFDakIsa0JBQWtCO0FBQ3BCOztBQUNBO0VBQ0UsaUJBQWlCO0FBQ25COztBQUNBO0VBQ0UsVUFBVTtBQUNaOztBQUNBO0VBQ0UsYUFBYTtFQUNiLG1CQUFtQjtBQUNyQjs7QUFDQTtFQUNFLGFBQWE7RUFDYixpQkFBaUI7RUFDakIsc0JBQXNCO0FBQ3hCOztBQUNBO0VBQ0UsY0FBYztFQUNkLGVBQWU7QUFDakI7O0FBQ0E7RUFDRSxlQUFlO0FBQ2pCOztBQUVBO0VBQ0UsV0FBVztFQUNYLHNCQUFzQjtBQUN4Qjs7QUFFQTtFQUNFLFVBQVU7RUFDVixhQUFhO0VBQ2IsV0FBVztFQUNYLFlBQVk7QUFDZCIsImZpbGUiOiJib29rY3JlYXRlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9ybS1jb250cm9sLm5nLXVudG91Y2hlZHtcclxuICBib3JkZXItdG9wOiA1cHggc29saWQgb3JhbmdlO1xyXG59XHJcblxyXG4uZm9ybS1jb250cm9sLm5nLXRvdWNoZWQubmctaW52YWxpZHtcclxuICBib3JkZXItdG9wOjA7XHJcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCByZWQ7XHJcbn1cclxuXHJcbi5mb3JtLWNvbnRyb2wubmctZGlydHkubmctdmFsaWR7XHJcbiAgYm9yZGVyLXRvcDowO1xyXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgZGFya2dyZWVuO1xyXG59XHJcblxyXG4uZm9ybS1zZWxlY3QubmctdW50b3VjaGVke1xyXG4gIGJvcmRlci10b3A6IDVweCBzb2xpZCBvcmFuZ2U7XHJcbn1cclxuXHJcblxyXG4uZm9ybS1zZWxlY3QubmctdG91Y2hlZC5uZy1pbnZhbGlke1xyXG4gIGJvcmRlci10b3A6MDtcclxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHJlZDtcclxufVxyXG5cclxuLmZvcm0tc2VsZWN0Lm5nLWRpcnR5Lm5nLXZhbGlke1xyXG4gIGJvcmRlci10b3A6MDtcclxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkIGRhcmtncmVlbjtcclxufVxyXG5cclxuXHJcbkBpbXBvcnQgdXJsKCdodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVBvcHBpbnM6d2dodEA0MDA7NTAwOzYwMCZkaXNwbGF5PXN3YXAnKTtcclxuKntcclxuICBtYXJnaW46IDA7XHJcbiAgcGFkZGluZzogMDtcclxuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xyXG4gIGZvbnQtZmFtaWx5OiBcIlBvcHBpbnNcIiwgc2Fucy1zZXJpZjtcclxufVxyXG5ib2R5e1xyXG4gIGRpc3BsYXk6IGZsZXg7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBtaW4taGVpZ2h0OiAxMDB2aDtcclxuICBiYWNrZ3JvdW5kOiAjNjk5MEYyO1xyXG59XHJcbjo6c2VsZWN0aW9ue1xyXG4gIGNvbG9yOiAjZmZmO1xyXG4gIGJhY2tncm91bmQ6ICM2OTkwRjI7XHJcbn1cclxuLndyYXBwZXJ7XHJcbiAgd2lkdGg6IDQzMHB4O1xyXG4gIGJhY2tncm91bmQ6ICNmZmY7XHJcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xyXG4gIHBhZGRpbmc6IDMwcHg7XHJcbiAgYm94LXNoYWRvdzogN3B4IDdweCAxMnB4IHJnYmEoMCwwLDAsMC4wNSk7XHJcbn1cclxuLndyYXBwZXIgaGVhZGVye1xyXG4gIGNvbG9yOiAjNjk5MEYyO1xyXG4gIGZvbnQtc2l6ZTogMjdweDtcclxuICBmb250LXdlaWdodDogNjAwO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4ud3JhcHBlciBmb3Jte1xyXG4gIGhlaWdodDogMTY3cHg7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgbWFyZ2luOiAzMHB4IDA7XHJcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBib3JkZXI6IDJweCBkYXNoZWQgIzY5OTBGMjtcclxufVxyXG5mb3JtIDp3aGVyZShpLCBwKXtcclxuICBjb2xvcjogIzY5OTBGMjtcclxufVxyXG5mb3JtIGl7XHJcbiAgZm9udC1zaXplOiA1MHB4O1xyXG59XHJcbmZvcm0gcHtcclxuICBtYXJnaW4tdG9wOiAxNXB4O1xyXG4gIGZvbnQtc2l6ZTogMTZweDtcclxufVxyXG5zZWN0aW9uIC5yb3d7XHJcbiAgbWFyZ2luLWJvdHRvbTogMTBweDtcclxuICBiYWNrZ3JvdW5kOiAjRTlGMEZGO1xyXG4gIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgcGFkZGluZzogMTVweCAyMHB4O1xyXG4gIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xyXG59XHJcbnNlY3Rpb24gLnJvdyBpe1xyXG4gIGNvbG9yOiAjNjk5MEYyO1xyXG4gIGZvbnQtc2l6ZTogMzBweDtcclxufVxyXG5zZWN0aW9uIC5kZXRhaWxzIHNwYW57XHJcbiAgZm9udC1zaXplOiAxNHB4O1xyXG59XHJcbi5wcm9ncmVzcy1hcmVhIC5yb3cgLmNvbnRlbnR7XHJcbiAgd2lkdGg6IDEwMCU7XHJcbiAgbWFyZ2luLWxlZnQ6IDE1cHg7XHJcbn1cclxuLnByb2dyZXNzLWFyZWEgLmRldGFpbHN7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gIG1hcmdpbi1ib3R0b206IDdweDtcclxuICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XHJcbn1cclxuLnByb2dyZXNzLWFyZWEgLmNvbnRlbnQgLnByb2dyZXNzLWJhcntcclxuICBoZWlnaHQ6IDZweDtcclxuICB3aWR0aDogMTAwJTtcclxuICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbiAgYmFja2dyb3VuZDogI2ZmZjtcclxuICBib3JkZXItcmFkaXVzOiAzMHB4O1xyXG59XHJcbi5jb250ZW50IC5wcm9ncmVzcy1iYXIgLnByb2dyZXNze1xyXG4gIGhlaWdodDogMTAwJTtcclxuICB3aWR0aDogMCU7XHJcbiAgYmFja2dyb3VuZDogIzY5OTBGMjtcclxuICBib3JkZXItcmFkaXVzOiBpbmhlcml0O1xyXG59XHJcbi51cGxvYWRlZC1hcmVhe1xyXG4gIG1heC1oZWlnaHQ6IDIzMnB4O1xyXG4gIG92ZXJmbG93LXk6IHNjcm9sbDtcclxufVxyXG4udXBsb2FkZWQtYXJlYS5vbnByb2dyZXNze1xyXG4gIG1heC1oZWlnaHQ6IDE1MHB4O1xyXG59XHJcbi51cGxvYWRlZC1hcmVhOjotd2Via2l0LXNjcm9sbGJhcntcclxuICB3aWR0aDogMHB4O1xyXG59XHJcbi51cGxvYWRlZC1hcmVhIC5yb3cgLmNvbnRlbnR7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG59XHJcbi51cGxvYWRlZC1hcmVhIC5yb3cgLmRldGFpbHN7XHJcbiAgZGlzcGxheTogZmxleDtcclxuICBtYXJnaW4tbGVmdDogMTVweDtcclxuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG59XHJcbi51cGxvYWRlZC1hcmVhIC5yb3cgLmRldGFpbHMgLnNpemV7XHJcbiAgY29sb3I6ICM0MDQwNDA7XHJcbiAgZm9udC1zaXplOiAxMXB4O1xyXG59XHJcbi51cGxvYWRlZC1hcmVhIGkuZmEtY2hlY2t7XHJcbiAgZm9udC1zaXplOiAxNnB4O1xyXG59XHJcblxyXG4uZmlsZS1jb250YWluZXJ7XHJcbiAgd2lkdGg6IDQwcHg7XHJcbiAgYm9yZGVyOiA0cHggZG90dGVkIHJlZDtcclxufVxyXG5cclxuLnN1YmltYWdlVXJse1xyXG4gIG9wYWNpdHk6IDA7XHJcbiAgcGFkZGluZzogNXJlbTtcclxuICB3aWR0aDogYXV0bztcclxuICBoZWlnaHQ6IDVyZW07XHJcbn1cclxuIl19 */\"]\n});","map":{"version":3,"mappings":"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","names":["FormControl","FormGroup","Validators","GenreService","AlertifyService","BooksService","i0","undefined","BookcreateComponent","constructor","genreService","bookservice","alertifyService","router","http","genreId","title_","required","minLength","description_","productcode_","isSoftCover_","page_","isPopular_","imageUrl_","genreId_","subimageUrl_","getfile","event","file","target","files","ngOnInit","getGenres","subscribe","data","genres","isFormValid","movieform","disabled","valid","createBook","formData","FormData","set","append","uploadSignature","imageData","urlimage","url","console","log","movie","title","value","description","productcode","isSoftCover","page","isPopular","datePublished","Date","toISOString","replace","imageUrl","subimageUrl","postBook","navigate","success","ClearForm","patchValue","selectors","features","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["G:\\Step\\Ev tapşırıqları\\4 -cü yarım il\\Angular\\Layihə\\10\\Angular_E-commerce\\Angular_E-commerce\\appEcommerce\\src\\app\\Components\\books\\Components\\bookcreate\\bookcreate.component.ts","G:\\Step\\Ev tapşırıqları\\4 -cü yarım il\\Angular\\Layihə\\10\\Angular_E-commerce\\Angular_E-commerce\\appEcommerce\\src\\app\\Components\\books\\Components\\bookcreate\\bookcreate.component.html"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\nimport { Component, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Genre } from 'src/app/Components/genre/Models/genre';\nimport { GenreService } from 'src/app/Components/genre/Services/genre.service';\nimport { AlertifyService } from 'src/app/Services/alertify/alertify.service';\nimport { BooksService } from '../../Services/books.service';\n\n@Component({\n  selector: 'app-bookcreate',\n  templateUrl: './bookcreate.component.html',\n  styleUrls: ['./bookcreate.component.css'],\n  providers: [GenreService, BooksService, AlertifyService]\n})\nexport class BookcreateComponent implements OnInit {\n\n  genres: Genre[] = [];\n\n  model:any={genreId:-1};\n\n  file:any;\n\n  urlimage:any;\n\n  async getfile(event:any) {\n\n    this.file=event.target.files[0];\n\n  }\n\n  constructor(private genreService: GenreService, private bookservice: BooksService, private alertifyService: AlertifyService, private router: Router, private http:HttpClient) { }\n\n  ngOnInit(): void {\n\n    this.genreService.getGenres().subscribe(data => { this.genres = data });\n\n  }\n\n  movieform = new FormGroup({\n\n    title_: new FormControl(\"Book title\",[Validators.required, Validators.minLength(1)]),\n    description_: new FormControl(\"Book description\",[Validators.required]),\n    productcode_: new FormControl(\"0000\",[Validators.required]),\n    isSoftCover_: new FormControl(\"true\",[Validators.required]),\n    page_: new FormControl(\"0000\",[Validators.required]),\n    isPopular_: new FormControl(\"true\",[Validators.required]),\n    imageUrl_: new FormControl(\"../../../../../assets/logo.png\",[Validators.required]),\n    genreId_: new FormControl(\"-1\",[Validators.required]),\n    subimageUrl_: new FormControl(\"\",[Validators.required])\n\n  });\n\n\n  isFormValid() : boolean {\n    return this.movieform.disabled ? true : this.movieform.valid\n  }\n\n\n  async createBook(){\n\n\n    let formData=new FormData();\n\n    formData.set('file', this.file);\n\n    formData.append(\"file\", this.file);\n\n    formData.append(\"upload_preset\", \"angular-ecommerce\");\n\n   this.bookservice.uploadSignature(formData).subscribe((imageData) => {\n    this.urlimage = imageData.url;\n\n    console.log(this.urlimage);\n\n\n    const movie = {\n      title: this.movieform.value.title_,\n      description: this.movieform.value.description_,\n      productcode: this.movieform.value.productcode_,\n      isSoftCover: this.movieform.value.isSoftCover_,\n      page: this.movieform.value.page_,\n      isPopular: this.movieform.value.isPopular_,\n      datePublished: new Date().toISOString().replace(\"T\",\" \").replace(\"Z\",\" \"),\n      imageUrl: this.movieform.value.imageUrl_,\n      genreId: this.movieform.value.genreId_,\n      subimageUrl: this.urlimage,\n    }\n\n\n\n\n\n    if(this.movieform.value.title_!=\"\" && this.movieform.value.description_!=\"\"  && this.movieform.value.imageUrl_!=\"\"  && this.movieform.value.genreId_!=\"-1\")\n    {\n\n\n\n\n      this.bookservice.postBook(movie).subscribe(data => {console.log(data); this.router.navigate(['/books'])});\n\n      this.alertifyService.success(movie.title);\n\n    }\n\n    else{\n\n    }\n  })\n\n\n\n\n\n  }\n\n  ClearForm(){\n\n    this.movieform.patchValue({\n\n      title_: '',\n      description_: '',\n      imageUrl_: '',\n      genreId_:'-1',\n\n    });\n\n  }\n}\n\n\n","\n\n\n<h1 style=\"color:red\">Create Movie</h1>\n\n<form [formGroup]=\"movieform\" (ngSubmit)=\"createBook()\">\n\n  <div class=\"mb-3\">\n    <label for=\"title\" class=\"form-label\">Title</label>\n    <input id=\"title\" name=\"title\" type=\"text\" class=\"form-control\"  formControlName=\"title_\">\n    <p>{{movieform.value.title_}}</p>\n\n    <div class=\"alert alert-danger\" *ngIf=\"movieform.get('title_').invalid && movieform.get('title_').touched\">\n      <p *ngIf=\"movieform.get('title_')?.errors?.['required']\"> Required places </p>\n      <p *ngIf=\"movieform.get('title_')?.errors?.['minlength']\"> Minimum  5 characters write </p>\n    </div>\n\n  </div>\n\n  <div class=\"mb-3\">\n    <label for=\"description\" class=\"form-label\">Description</label>\n    <input  id=\"description\" name=\"description\" type=\"text\" class=\"form-control\"  formControlName=\"description_\">\n  </div>\n\n  <div class=\"mb-3\">\n    <label for=\"productcode\" class=\"form-label\">Productcode</label>\n    <input  id=\"productcode\" name=\"productcode\" type=\"text\" class=\"form-control\"  formControlName=\"productcode_\">\n  </div>\n\n  <div class=\"mb-3\">\n    <input  id=\"isSoftCover\" name=\"isSoftCover\" type=\"checkbox\" class=\"form-check-input\"  formControlName=\"isSoftCover_\">\n    <label for=\"isSoftCover\" class=\"form-label\">isSoftCover</label>\n  </div>\n\n  <div class=\"mb-3\">\n    <label for=\"page\" class=\"form-label\">Page</label>\n    <input  id=\"page\" name=\"page\" type=\"number\" class=\"form-control\"  formControlName=\"page_\">\n  </div>\n\n  <div class=\"mb-3\">\n    <input  id=\"isPopular\" name=\"isPopular\" type=\"checkbox\"  class=\"form-check-input\"  formControlName=\"isPopular_\">\n    <label for=\"isPopular\" class=\"form-label\">isPopular</label>\n  </div>\n\n  <div class=\"mb-3\">\n    <label for=\"imageUrl\" class=\"form-label\">Image Url</label>\n    <input id=\"imageUrl\" name=\"imageUrl\" type=\"text\" class=\"form-control\"  formControlName=\"imageUrl_\">\n  </div>\n\n\n\n  <div class=\"mb-3\">\n    <label for=\"genreId\" class=\"form-label\">Category</label>\n    <select id=\"genreId\" name=\"genreId\" class=\"form-select\"  formControlName=\"genreId_\">\n      <option value=\"-1\"> Select genre</option>\n      <option *ngFor=\"let item of genres\" [value]=\"item.id\"> {{item.genrename}}</option>\n    </select>\n  </div>\n\n  <div class=\"mb-3\" id=\"file-container\">\n\n    <input id=\"subimageUrl\" name=\"subimageUrl\" type=\"file\" class=\"form-control\"  formControlName=\"subimageUrl_\"(change)=\"getfile($event)\">\n\n  </div>\n\n  <div class=\"mb-3\" *ngIf=\"file\">\n\n\n\n   <button (click)=\"file=undefined\"> clear file </button>\n\n   <br>\n\n  </div>\n\n  <button [disabled]=\"!isFormValid()\" type=\"submit\" class=\"btn btn-success\">\n\n     Create Movie\n\n  </button>\n\n  <button type=\"submit\" (click)=\"ClearForm()\" class=\"btn btn-warning\">\n\n    Clear\n\n </button>\n\n</form>\n"]},"metadata":{},"sourceType":"module"}