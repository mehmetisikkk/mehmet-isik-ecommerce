{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/alertify/alertify.service\";\nimport * as i2 from \"./Services/books.service\";\nimport * as i3 from \"../wishlist/Services/wishlist.service\";\nimport * as i4 from \"../basket/Services/basket.service\";\nimport * as i5 from \"../genre/Services/genre.service\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"../authentication/Services/authentication.service\";\nimport * as i8 from \"@angular/common\";\nimport * as i9 from \"@angular/forms\";\nimport * as i10 from \"../../Shared/alert/alert.component\";\nimport * as i11 from \"./Pipes/book-filter.pipe\";\n\nfunction BooksComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"div\", 8);\n    i0.ɵɵelement(2, \"span\", 9);\n    i0.ɵɵelementEnd()();\n  }\n}\n\nfunction BooksComponent_div_1_div_1_ng_template_1_Template(rf, ctx) {}\n\nfunction BooksComponent_div_1_div_1_ng_template_11_Template(rf, ctx) {}\n\nconst _c0 = function (a0) {\n  return {\n    books: a0\n  };\n};\n\nfunction BooksComponent_div_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, BooksComponent_div_1_div_1_ng_template_1_Template, 0, 0, \"ng-template\", 11);\n    i0.ɵɵelementStart(2, \"h1\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 14)(7, \"input\", 15);\n    i0.ɵɵlistener(\"ngModelChange\", function BooksComponent_div_1_div_1_Template_input_ngModelChange_7_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r14.filterText = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"small\", 16);\n    i0.ɵɵtext(9);\n    i0.ɵɵpipe(10, \"lowercase\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(11, BooksComponent_div_1_div_1_ng_template_11_Template, 0, 0, \"ng-template\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n\n    const _r9 = i0.ɵɵreference(10);\n\n    const _r5 = i0.ɵɵreference(6);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r9)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(9, _c0, ctx_r11.popularBooks));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r11.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r11.books.length, \" books found\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r11.filterText);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" You seached \", i0.ɵɵpipeBind1(10, 7, ctx_r11.filterText), \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r5);\n  }\n}\n\nfunction BooksComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, BooksComponent_div_1_div_1_Template, 12, 11, \"div\", 10);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n\n    const _r3 = i0.ɵɵreference(4);\n\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.books.length > 0)(\"ngIfElse\", _r3);\n  }\n}\n\nfunction BooksComponent_app_alert_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-alert\", 18);\n    i0.ɵɵlistener(\"mycustomCloseEvent\", function BooksComponent_app_alert_2_Template_app_alert_mycustomCloseEvent_0_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.closeDialog($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"alertmessage\", ctx_r2.bookError.message);\n  }\n}\n\nfunction BooksComponent_ng_template_3_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r19.bookError.message, \" \");\n  }\n}\n\nfunction BooksComponent_ng_template_3_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" No found \");\n    i0.ɵɵtemplate(2, BooksComponent_ng_template_3_div_0_div_2_Template, 2, 1, \"div\", 1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r18.bookError);\n  }\n}\n\nfunction BooksComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, BooksComponent_ng_template_3_div_0_Template, 3, 1, \"div\", 19);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.bookError || !ctx_r4.loading);\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_div_20_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item2_r26 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" Book genrename: \", item2_r26.genrename, \" \");\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, BooksComponent_ng_template_5_div_0_div_20_p_1_Template, 2, 1, \"p\", 37);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item2_r26 = ctx.$implicit;\n    const item_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r21.genreId == item2_r26.id);\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_button_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function BooksComponent_ng_template_5_div_0_button_26_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const item_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.addtoList($event, item_r21));\n    });\n    i0.ɵɵtext(1, \" Add to Wishlist\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_button_27_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r35 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function BooksComponent_ng_template_5_div_0_button_27_Template_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r35);\n      const item_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r33 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r33.addtoList($event, item_r21));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", item_r21.title, \" Remove from Wishlist\");\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_div_30_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 66);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r49 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", item_r49.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", item_r49.genrename, \"\");\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_div_30_button_48_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r52 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 67);\n    i0.ɵɵlistener(\"click\", function BooksComponent_ng_template_5_div_0_div_30_button_48_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r52);\n      i0.ɵɵnextContext();\n\n      const _r39 = i0.ɵɵreference(11);\n\n      const _r40 = i0.ɵɵreference(15);\n\n      const _r41 = i0.ɵɵreference(19);\n\n      const _r42 = i0.ɵɵreference(23);\n\n      const _r43 = i0.ɵɵreference(27);\n\n      const _r45 = i0.ɵɵreference(40);\n\n      const _r46 = i0.ɵɵreference(45);\n\n      const _r37 = i0.ɵɵreference(4);\n\n      const item_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r50 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r50.Update(item_r21, _r39, _r40, _r41, ctx_r50.isSoftCover, _r42, _r43, _r45, _r46, _r37));\n    });\n    i0.ɵɵtext(1, \" Update\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_div_30_button_49_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r55 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function BooksComponent_ng_template_5_div_0_div_30_button_49_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r55);\n      i0.ɵɵnextContext();\n\n      const _r39 = i0.ɵɵreference(11);\n\n      const _r40 = i0.ɵɵreference(15);\n\n      const _r41 = i0.ɵɵreference(19);\n\n      const _r42 = i0.ɵɵreference(23);\n\n      const _r43 = i0.ɵɵreference(27);\n\n      const _r45 = i0.ɵɵreference(40);\n\n      const _r46 = i0.ɵɵreference(45);\n\n      const _r37 = i0.ɵɵreference(4);\n\n      const item_r21 = i0.ɵɵnextContext().$implicit;\n      const ctx_r53 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r53.Delete(item_r21, _r39, _r40, _r41, ctx_r53.isSoftCover, _r42, _r43, _r45, _r46, _r37));\n    });\n    i0.ɵɵtext(1, \" Delete\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction BooksComponent_ng_template_5_div_0_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r57 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"form\", 40)(2, \"div\", 41)(3, \"select\", 42, 43)(5, \"option\", 44);\n    i0.ɵɵtext(6, \" Select Genre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, BooksComponent_ng_template_5_div_0_div_30_option_7_Template, 2, 2, \"option\", 45);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(8, \"br\");\n    i0.ɵɵelementStart(9, \"div\", 41);\n    i0.ɵɵelement(10, \"input\", 46, 47);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"br\");\n    i0.ɵɵelementStart(13, \"div\", 41);\n    i0.ɵɵelement(14, \"input\", 48, 49);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(16, \"br\");\n    i0.ɵɵelementStart(17, \"div\", 41);\n    i0.ɵɵelement(18, \"input\", 50, 51);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(20, \"br\");\n    i0.ɵɵelementStart(21, \"div\", 41);\n    i0.ɵɵelement(22, \"input\", 52, 53);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(24, \"br\");\n    i0.ɵɵelementStart(25, \"div\", 41)(26, \"input\", 54, 55);\n    i0.ɵɵlistener(\"change\", function BooksComponent_ng_template_5_div_0_div_30_Template_input_change_26_listener($event) {\n      i0.ɵɵrestoreView(_r57);\n      const ctx_r56 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r56.ispopular($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(28, \"label\", 56);\n    i0.ɵɵtext(29, \"isPopular\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(30, \"br\");\n    i0.ɵɵelementStart(31, \"div\", 41)(32, \"input\", 57, 55);\n    i0.ɵɵlistener(\"change\", function BooksComponent_ng_template_5_div_0_div_30_Template_input_change_32_listener($event) {\n      i0.ɵɵrestoreView(_r57);\n      const ctx_r58 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r58.isSoftCover($event));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(34, \"label\", 58);\n    i0.ɵɵtext(35, \"isSoftCover\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(36, \"div\", 41)(37, \"label\", 59);\n    i0.ɵɵtext(38, \"Image Url\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(39, \"input\", 60, 61);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(41, \"div\", 41)(42, \"label\", 62);\n    i0.ɵɵtext(43, \"sub Image Url\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(44, \"input\", 63, 64);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(46, \"br\")(47, \"br\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(48, BooksComponent_ng_template_5_div_0_div_30_button_48_Template, 2, 0, \"button\", 65);\n    i0.ɵɵtemplate(49, BooksComponent_ng_template_5_div_0_div_30_button_49_Template, 2, 0, \"button\", 34);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r25 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(7);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r25.genres);\n    i0.ɵɵadvance(41);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.email == \"admin@admin.com\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r25.email == \"admin@admin.com\");\n  }\n}\n\nconst _c1 = function (a1) {\n  return [\"/books\", a1];\n};\n\nconst _c2 = function () {\n  return [\"/basket\"];\n};\n\nfunction BooksComponent_ng_template_5_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r60 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"div\", 24);\n    i0.ɵɵelement(3, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 26)(5, \"div\", 27)(6, \"h2\", 28);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 29);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"p\", 29);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"p\", 29);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"p\", 29);\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\", 29);\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"p\", 29);\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(20, BooksComponent_ng_template_5_div_0_div_20_Template, 2, 1, \"div\", 30);\n    i0.ɵɵelement(21, \"img\", 31)(22, \"br\")(23, \"br\");\n    i0.ɵɵelementStart(24, \"button\", 32);\n    i0.ɵɵtext(25, \" Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(26, BooksComponent_ng_template_5_div_0_button_26_Template, 2, 0, \"button\", 33);\n    i0.ɵɵtemplate(27, BooksComponent_ng_template_5_div_0_button_27_Template, 2, 1, \"button\", 34);\n    i0.ɵɵelementStart(28, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function BooksComponent_ng_template_5_div_0_Template_button_click_28_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r60);\n      const item_r21 = restoredCtx.$implicit;\n      const ctx_r59 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r59.Buy(item_r21));\n    });\n    i0.ɵɵtext(29, \" Buy\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(30, BooksComponent_ng_template_5_div_0_div_30_Template, 50, 3, \"div\", 36);\n    i0.ɵɵelementEnd()()();\n  }\n\n  if (rf & 2) {\n    const item_r21 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r21.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" Book title: \", item_r21.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Book description: \", item_r21.description, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Book productcode: \", item_r21.productcode, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Book page: \", item_r21.page, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Book isPopular: \", item_r21.isPopular, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Book isSoftCover: \", item_r21.isSoftCover, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" Book datePublished: \", item_r21.datePublished, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r20.genres);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r21.subimageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(15, _c1, item_r21.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r20.getButtonState(item_r21));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.getButtonState(item_r21));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(17, _c2));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r20.email == \"admin@admin.com\");\n  }\n}\n\nfunction BooksComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, BooksComponent_ng_template_5_div_0_Template, 31, 18, \"div\", 21);\n    i0.ɵɵpipe(1, \"bookFilter\");\n  }\n\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(1, 1, ctx_r6.books, ctx_r6.filterText));\n  }\n}\n\nfunction BooksComponent_ng_template_7_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22)(1, \"div\", 23)(2, \"div\", 24);\n    i0.ɵɵelement(3, \"img\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 26)(5, \"div\", 27)(6, \"h2\", 28);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"p\", 29);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"p\", 29);\n    i0.ɵɵelementStart(11, \"button\", 68);\n    i0.ɵɵtext(12, \" Details\");\n    i0.ɵɵelementEnd()()()()();\n  }\n\n  if (rf & 2) {\n    const item_r62 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r62.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", item_r62.title, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", item_r62.description, \" \");\n  }\n}\n\nfunction BooksComponent_ng_template_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, BooksComponent_ng_template_7_div_0_Template, 13, 3, \"div\", 21);\n    i0.ɵɵpipe(1, \"bookFilter\");\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind2(1, 1, ctx_r8.books, ctx_r8.filterText));\n  }\n}\n\nfunction BooksComponent_ng_template_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 71)(1, \"div\", 72);\n    i0.ɵɵelement(2, \"img\", 73);\n    i0.ɵɵelementStart(3, \"div\", 74)(4, \"h5\", 28);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"uppercase\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const item_r65 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r65.imageUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 2, item_r65.title));\n  }\n}\n\nfunction BooksComponent_ng_template_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 69);\n    i0.ɵɵtemplate(1, BooksComponent_ng_template_9_div_1_Template, 7, 4, \"div\", 70);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const mybooks_r63 = ctx.books;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", mybooks_r63);\n  }\n}\n\nexport let BooksComponent = /*#__PURE__*/(() => {\n  class BooksComponent {\n    constructor(alertify, booksService, wishlistService, basketService, genreService, activatedroute, authservice, router) {\n      this.alertify = alertify;\n      this.booksService = booksService;\n      this.wishlistService = wishlistService;\n      this.basketService = basketService;\n      this.genreService = genreService;\n      this.activatedroute = activatedroute;\n      this.authservice = authservice;\n      this.router = router;\n      this.userlistbooks = [];\n      this.loading = false;\n      this.books = [];\n      this.genres = [];\n      this.popularBooks = [];\n      this.title = \"Book list\";\n      this.filterText = '';\n      this.alerti = alertify;\n    }\n\n    ngOnInit() {\n      this.authservice.user.subscribe(user => {\n        if (user) {\n          this.userId = user.id;\n          this.email = user.email;\n          this.activatedroute.params.subscribe(params => {\n            this.loading = true;\n            var value = params[\"genreId\"];\n            this.booksService.getBooks(value).subscribe(data => {\n              this.books = data;\n              this.booksService.getMyList(this.userId).subscribe(data => {\n                this.userlistbooks = data;\n              }, error => {\n                this.bookError = error;\n                console.log(error);\n              });\n              this.loading = false;\n              this.popularBooks = this.books.filter(i => i.isPopular);\n            }, error => {\n              this.bookError = error;\n              console.log(error);\n            });\n            this.genreService.getGenres().subscribe(data => {\n              this.genres = data;\n            }, error => {\n              this.bookError = error;\n              console.log(error);\n            });\n          });\n        }\n      });\n    }\n\n    getButtonState(item) {\n      return this.userlistbooks.findIndex(m => m === item.id) > -1;\n    }\n\n    addtoList($event, item) {\n      if ($event.target.classList.contains('btn-primary')) {\n        $event.target.innerText = item.title + \" Remove from Wishlist\";\n        $event.target.classList.remove('btn-primary');\n        $event.target.classList.add('btn-danger'); //  alertify.success(item.title+ \" Add to List\");\n        //this.alerti.success(item.title);\n\n        var id = 0;\n        this.booksService.addtoMyList({\n          id: id,\n          userId: this.userId,\n          bookId: item.id\n        }).subscribe(() => this.alerti.success(item.title + \" Add to WishList\"));\n        this.wishlistService.postWishlist({\n          id: id,\n          userId: this.userId,\n          bookId: item.id\n        }).subscribe(() => \"\");\n      } else {\n        $event.target.innerText = item.title + \" Add to Wishlist\";\n        $event.target.classList.remove('btn-danger');\n        $event.target.classList.add('btn-primary'); //  alertify.warning(item.title+ \" Remove from List\");\n        // this.alerti.error(item.title);\n\n        this.booksService.removetoMyList({\n          id: id,\n          userId: this.userId,\n          bookId: item.id\n        }).subscribe(() => \"\");\n        this.wishlistService.removetoWishlist({\n          id: id,\n          userId: this.userId,\n          bookId: item.id\n        }).subscribe(() => \"\");\n      }\n    }\n\n    Buy(item) {\n      var id = 0;\n      this.basketService.postBasket({\n        id: id,\n        userId: this.userId,\n        bookId: item.id\n      }).subscribe(() => \"\");\n    }\n\n    closeDialog(event) {\n      alert(event);\n      this.bookError = null;\n    }\n\n    ispopular(event) {\n      this.checked1 = event.target.checked;\n      alert(\"ispopular: \" + this.checked1);\n    }\n\n    isSoftCover(event) {\n      this.checked2 = event.target.checked;\n      alert(\"isSoftCover: \" + this.checked2);\n    }\n\n    Update(item, title, description, productcode, isSoftCover, page, isPopular, imageUrl, subimageUrl, genreId) {\n      if (genreId.value == \"-1\") {\n        this.alertify.error(\"You should write genre\");\n        return;\n      } else {\n        var replacedata = {\n          id: item.id,\n          title: title.value,\n          description: description.value,\n          productcode: productcode.value,\n          isSoftCover: this.checked2,\n          page: page.value,\n          isPopular: this.checked1,\n          imageUrl: imageUrl.value,\n          subimageUrl: subimageUrl.value,\n          genreId: genreId.value,\n          datePublished: new Date().toISOString().replace(\"T\", \" \").replace(\"Z\", \" \")\n        };\n        this.booksService.putBook(replacedata).subscribe(data => {\n          this.books = data;\n          this.booksService.getBooks(item.id).subscribe(data => this.router.navigate(['/books/create']));\n          this.booksService.getBooks(item.id).subscribe(data => this.router.navigate(['/books']));\n        });\n      }\n    }\n\n    Delete(item, title, description, productcode, isSoftCover, page, isPopular, imageUrl, subimageUrl, genreId) {\n      var replacedata = {\n        id: item.id,\n        title: title.value,\n        description: description.value,\n        productcode: productcode.value,\n        isSoftCover: this.checked2,\n        page: page.value,\n        isPopular: this.checked1,\n        imageUrl: imageUrl.value,\n        subimageUrl: subimageUrl.value,\n        genreId: genreId.value,\n        datePublished: new Date().toISOString().replace(\"T\", \" \").replace(\"Z\", \" \")\n      };\n      this.booksService.deleteBook(replacedata).subscribe(data => {\n        this.books = data;\n      });\n      this.booksService.getBooks(item.id).subscribe(data => this.router.navigate(['/books/create']));\n      this.booksService.getBooks(item.id).subscribe(data => this.router.navigate(['/books']));\n    }\n\n  }\n\n  BooksComponent.ɵfac = function BooksComponent_Factory(t) {\n    return new (t || BooksComponent)(i0.ɵɵdirectiveInject(i1.AlertifyService), i0.ɵɵdirectiveInject(i2.BooksService), i0.ɵɵdirectiveInject(i3.WishlistService), i0.ɵɵdirectiveInject(i4.BasketService), i0.ɵɵdirectiveInject(i5.GenreService), i0.ɵɵdirectiveInject(i6.ActivatedRoute), i0.ɵɵdirectiveInject(i7.AuthenticationService), i0.ɵɵdirectiveInject(i6.Router));\n  };\n\n  BooksComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: BooksComponent,\n    selectors: [[\"app-books\"]],\n    decls: 11,\n    vars: 3,\n    consts: [[\"class\", \"text-center\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"alertmessage\", \"mycustomCloseEvent\", 4, \"ngIf\"], [\"no_books\", \"\"], [\"books_list1\", \"\"], [\"books_list1_2\", \"\"], [\"bookList2\", \"\"], [1, \"text-center\"], [\"role\", \"status\", 1, \"spinner-border\", \"text-primary\"], [1, \"sr-only\"], [4, \"ngIf\", \"ngIfElse\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [1, \"text-primary\"], [1, \"alert\", \"alert-success\"], [1, \"mb-3\"], [\"type\", \"text\", \"placeholder\", \"Search....\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"text-muted\"], [3, \"ngTemplateOutlet\"], [3, \"alertmessage\", \"mycustomCloseEvent\"], [\"class\", \"alert alert-warning\", 4, \"ngIf\"], [1, \"alert\", \"alert-warning\"], [\"class\", \"card mb-3\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\", \"mb-3\"], [1, \"row\"], [1, \"col-md-3\"], [1, \"img-fluid\", \"rounded-start\", 3, \"src\"], [1, \"col-md-9\", \"d-flex\", \"flex-column\", \"text-left\", \"ng-star-inserted\"], [1, \"card-body\", \"d-flex\", \"flex-column\"], [1, \"card-title\"], [1, \"card-text\"], [4, \"ngFor\", \"ngForOf\"], [\"alt\", \"images\", 2, \"width\", \"150px\", 3, \"src\"], [1, \"mt-auto\", \"btn\", \"btn-outline-primary\", \"btn-block\", 3, \"routerLink\"], [\"class\", \"mt-auto btn btn-primary btn-block\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"mt-auto btn btn-danger btn-block\", 3, \"click\", 4, \"ngIf\"], [1, \"mt-auto\", \"btn\", \"btn-success\", \"btn-block\", 3, \"routerLink\", \"click\"], [\"class\", \"card-body d-flex flex-column\", 4, \"ngIf\"], [\"class\", \"card-text\", 4, \"ngIf\"], [1, \"mt-auto\", \"btn\", \"btn-primary\", \"btn-block\", 3, \"click\"], [1, \"mt-auto\", \"btn\", \"btn-danger\", \"btn-block\", 3, \"click\"], [\"action\", \"\"], [1, \"form-group\"], [\"id\", \"genreId\", \"name\", \"genreId\", 1, \"form-select\"], [\"genreId\", \"\"], [\"value\", \"-1\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"id\", \"title\", \"name\", \"title\", \"placeholder\", \"title\", 1, \"form-control\"], [\"title\", \"\"], [\"type\", \"text\", \"id\", \"description\", \"name\", \"description\", \"placeholder\", \"description\", 1, \"form-control\"], [\"description\", \"\"], [\"type\", \"text\", \"id\", \"productcode\", \"name\", \"productcode\", \"placeholder\", \"productcode\", 1, \"form-control\"], [\"productcode\", \"\"], [\"type\", \"text\", \"id\", \"page\", \"name\", \"page\", \"placeholder\", \"page\", 1, \"form-control\"], [\"page\", \"\"], [\"id\", \"isPopular\", \"name\", \"isPopular\", \"type\", \"checkbox\", 1, \"form-check-input\", 3, \"change\"], [\"isPopular\", \"\"], [\"for\", \"isPopular\", 1, \"form-label\"], [\"id\", \"isSoftCover\", \"name\", \"isSoftCover\", \"type\", \"checkbox\", 1, \"form-check-input\", 3, \"change\"], [\"for\", \"isSoftCover\", 1, \"form-label\"], [\"for\", \"imageUrl\", 1, \"form-label\"], [\"id\", \"imageUrl\", \"name\", \"imageUrl\", \"type\", \"text\", \"value\", \"../../../assets/logo.png\", 1, \"form-control\"], [\"imageUrl\", \"\"], [\"for\", \"subimageUrl\", 1, \"form-label\"], [\"id\", \"subimageUrl\", \"name\", \"subimageUrl\", \"type\", \"text\", \"value\", \"../../../assets/logo.png\", 1, \"form-control\"], [\"subimageUrl\", \"\"], [\"class\", \"mt-auto btn btn-warning btn-block\", 3, \"click\", 4, \"ngIf\"], [3, \"value\"], [1, \"mt-auto\", \"btn\", \"btn-warning\", \"btn-block\", 3, \"click\"], [1, \"mt-auto\", \"btn\", \"btn-outline-primary\", \"btn-block\"], [1, \"row\", \"row-cols-1\", \"row-cols-md-4\", \"g-4\", \"mb-4\"], [\"class\", \"col\", 4, \"ngFor\", \"ngForOf\"], [1, \"col\"], [1, \"card\", \"h-100\"], [\"alt\", \"\", 1, \"card-img-top\", 3, \"src\"], [1, \"card-body\"]],\n    template: function BooksComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, BooksComponent_div_0_Template, 3, 0, \"div\", 0);\n        i0.ɵɵtemplate(1, BooksComponent_div_1_Template, 2, 2, \"div\", 1);\n        i0.ɵɵtemplate(2, BooksComponent_app_alert_2_Template, 1, 1, \"app-alert\", 2);\n        i0.ɵɵtemplate(3, BooksComponent_ng_template_3_Template, 1, 1, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(5, BooksComponent_ng_template_5_Template, 2, 4, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(7, BooksComponent_ng_template_7_Template, 2, 4, \"ng-template\", null, 5, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵtemplate(9, BooksComponent_ng_template_9_Template, 2, 1, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.bookError);\n      }\n    },\n    dependencies: [i6.RouterLink, i8.NgForOf, i8.NgIf, i8.NgTemplateOutlet, i9.ɵNgNoValidate, i9.NgSelectOption, i9.ɵNgSelectMultipleOption, i9.DefaultValueAccessor, i9.NgControlStatus, i9.NgControlStatusGroup, i9.NgModel, i9.NgForm, i10.AlertComponent, i8.UpperCasePipe, i8.LowerCasePipe, i11.BookFilterPipe]\n  });\n  return BooksComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}